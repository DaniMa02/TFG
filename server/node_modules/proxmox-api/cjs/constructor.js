"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.proxmoxApi = void 0;
const ProxmoxEngine_js_1 = __importDefault(require("./ProxmoxEngine.js"));
const proxy_js_1 = require("./proxy.js");
function isProxmoxEngine(val) {
    return 'doRequest' in val;
}
/**
 * Default main package function, this function return a javascript Proxy to use your proxmox API.
 *
 * @param options authentification option or a doRequest provider.
 *
 * @returns the proxy object
 */
function proxmoxApi(options) {
    if (isProxmoxEngine(options))
        return (0, proxy_js_1.buildApiProxy)(options, '/api2/json');
    else
        return (0, proxy_js_1.buildApiProxy)(new ProxmoxEngine_js_1.default(options), '/api2/json');
}
exports.proxmoxApi = proxmoxApi;
exports.default = proxmoxApi;
